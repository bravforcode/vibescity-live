# VibeCity Backend — Environment Variables
# Copy to .env and fill in real values.
# See backend/app/core/config.py for classification (required / prod-only / optional).

# ── Core ──
ENV=development
PROJECT_NAME=VibeCity API
VERSION=0.1.0
API_V1_STR=/api/v1

# ── CORS (JSON list) ──
# BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:5173","https://vibecity.live"]

# ── Supabase (REQUIRED — boot fails without these) ──
SUPABASE_URL=
SUPABASE_KEY=
SUPABASE_SERVICE_ROLE_KEY=
VISITOR_SIGNING_SECRET=change-me-strong-random-secret
VISITOR_TOKEN_TTL_SECONDS=604800
ADMIN_DASHBOARD_SECRET=change-me-admin-secret

# ── Stripe (REQUIRED in production) ──
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=

# ── Redis (REQUIRED in production) ──
REDIS_URL=

# ── TRIAD Architecture (REQUIRED in production) ──
DATABASE_URL=postgresql://test:test@localhost:5432/core
SUPABASE_DIRECT_URL=postgresql://test:test@localhost:5432/core
NEON_DATABASE_URL=postgresql://test:test@localhost:5432/history
NEON_DIRECT_DATABASE_URL=postgresql://test:test@localhost:5432/history
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_GRPC_PORT=6334
SAFE_MODE=true
GOOGLE_API_KEY=

# ── Real-time ──
MAX_CONNECTIONS=1000
MAP_EFFECT_POLL_MS=750
HOTSPOT_BROADCAST_MS=30000
MAP_EFFECT_BATCH_SIZE=50

# ── Frontend / Redirect ──
FRONTEND_URL=https://vibecity.live
# ALLOWED_CHECKOUT_REDIRECT_HOSTS=["vibecity.live","localhost","127.0.0.1"]

# ── OCR Queue ──
OCR_QUEUE_STREAM=slip:ocr
OCR_QUEUE_GROUP=slip-ocr-group
OCR_QUEUE_CONSUMER=slip-ocr-1

# ── Slip Verification / GCV (OPTIONAL — degrades slip-ocr) ──
GCV_SERVICE_ACCOUNT_JSON=
GCV_PROJECT_ID=
GCV_OCR_MAX_BYTES=5242880
SLIP_EXPECT_RECEIVER_NAME=
SLIP_EXPECT_RECEIVER_BANKS=
SLIP_EXPECT_RECEIVER_ACCOUNT=
SLIP_EXPECT_RECEIVER_ACCOUNT_TAIL=4
SLIP_DISABLE_MANUAL_REVIEW=false
SLIP_DUPLICATE_WINDOW_DAYS=90
SLIP_STORE_OCR_RAW=false

# ── Notifications (OPTIONAL — degrades push/discord/geo) ──
ONESIGNAL_APP_ID=
ONESIGNAL_API_KEY=
DISCORD_WEBHOOK_URL=
IPINFO_TOKEN=

# ── Google Sheets Server Logger (OPTIONAL — fail-open if disabled/unreachable) ──
SHEETS_LOGGER_ENABLED=false
SHEETS_STRATEGY=db_sync
SHEETS_LOGGER_FULL_DETAIL=true
SHEETS_LOGGER_TIMEOUT_MS=2200
SHEETS_WEBHOOK_EVENTS_URL=
SHEETS_WEBHOOK_PARTNER_URL=
SHEETS_WEBHOOK_PAYMENTS_URL=
SHEETS_WEBHOOK_SECRET=

# ── Admin Access Fallback (comma-separated emails) ──
ADMIN_EMAIL_ALLOWLIST=omchai.g44@gmail.com

# ── PayPal (OPTIONAL — degrades paypal-payments) ──
PAYPAL_CLIENT_ID=
PAYPAL_SECRET=
PAYPAL_MODE=sandbox

# ── Observability (OPTIONAL — degrades metrics/otel) ──
METRICS_ENABLED=true
METRICS_AUTH_TOKEN=
OTEL_ENABLED=false
OTEL_SERVICE_NAME=vibecity-backend
OTEL_EXPORTER_OTLP_ENDPOINT=
OTEL_TRACES_SAMPLER_ARG=0.1

# ── Memory Service (OPTIONAL — degrades memory-service) ──
MEMORY_ENABLED=false
OPENAI_API_KEY=
MEMORY_DATABASE_URL=
