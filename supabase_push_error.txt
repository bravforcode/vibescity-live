Debugger listening on ws://127.0.0.1:64706/7235f228-63f3-4b05-a700-664e17dc31ab
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
open supabase\.temp\profile: The system cannot find the file specified.
Loading project ref from file: supabase\.temp\project-ref
Resolved DNS: [2406:da18:243:741c:6552:667e:9e57:54f2]:5432
Initialising login role...
Using access token for profile: supabase
Supabase CLI 2.76.14
Using profile: supabase (supabase.co)
Connecting to remote database...
2026/02/24 17:24:04 PG Send: {"Type":"StartupMessage","ProtocolVersion":196608,"Parameters":{"database":"postgres","user":"cli_login_postgres"}}
2026/02/24 17:24:04 PG Recv: {"Type":"AuthenticationSASL","AuthMechanisms":["SCRAM-SHA-256"]}
2026/02/24 17:24:04 PG Send: {"Type":"SASLInitialResponse","AuthMechanism":"SCRAM-SHA-256","Data":"n,,n=,r=Yyd6lfVUiS46YfcqrDOvlQOG"}
2026/02/24 17:24:04 PG Recv: {"Type":"AuthenticationSASLContinue","Data":"r=Yyd6lfVUiS46YfcqrDOvlQOGR/d297oiyfA127sg8FKRIUcC,s=qzox8kleULwd+l6EJen8zw==,i=4096"}
2026/02/24 17:24:04 PG Send: {"Type":"SASLResponse","Data":"c=biws,r=Yyd6lfVUiS46YfcqrDOvlQOGR/d297oiyfA127sg8FKRIUcC,p=mMipNGQ0Sk1hW3PhLeNoroayhn6FMX6LAKrYsJmqags="}
2026/02/24 17:24:04 PG Recv: {"Type":"AuthenticationSASLFinal","Data":"v=RJLb2lFOb/cVZgC307ZhKBuHnDOXsm97MGLL6iXUJkQ="}
2026/02/24 17:24:04 PG Recv: {"Type":"AuthenticationOK"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"in_hot_standby","Value":"off"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"integer_datetimes","Value":"on"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"TimeZone","Value":"UTC"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"IntervalStyle","Value":"postgres"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"is_superuser","Value":"off"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"application_name","Value":""}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"default_transaction_read_only","Value":"off"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"scram_iterations","Value":"4096"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"DateStyle","Value":"ISO, MDY"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"standard_conforming_strings","Value":"on"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"session_authorization","Value":"cli_login_postgres"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"client_encoding","Value":"UTF8"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"server_version","Value":"17.6"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterStatus","Name":"server_encoding","Value":"UTF8"}
2026/02/24 17:24:04 PG Recv: {"Type":"BackendKeyData","ProcessID":421089,"SecretKey":4180624011}
2026/02/24 17:24:04 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2026/02/24 17:24:04 PG Send: {"Type":"Query","String":"SET SESSION ROLE postgres"}
2026/02/24 17:24:04 PG Recv: {"Type":"CommandComplete","CommandTag":"SET"}
2026/02/24 17:24:04 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2026/02/24 17:24:04 PG Send: {"Type":"Parse","Name":"lrupsc_1_0","Query":"SELECT version FROM supabase_migrations.schema_migrations ORDER BY version","ParameterOIDs":null}
2026/02/24 17:24:04 PG Send: {"Type":"Describe","ObjectType":"S","Name":"lrupsc_1_0"}
2026/02/24 17:24:04 PG Send: {"Type":"Sync"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:04 PG Recv: {"Type":"ParameterDescription","ParameterOIDs":[]}
2026/02/24 17:24:04 PG Recv: {"Type":"RowDescription","Fields":[{"Name":"version","TableOID":21791,"TableAttributeNumber":1,"DataTypeOID":25,"DataTypeSize":-1,"TypeModifier":-1,"Format":0}]}
2026/02/24 17:24:04 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2026/02/24 17:24:04 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"lrupsc_1_0","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[0]}
2026/02/24 17:24:04 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:04 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:04 PG Send: {"Type":"Sync"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"RowDescription","Fields":[{"Name":"version","TableOID":21791,"TableAttributeNumber":1,"DataTypeOID":25,"DataTypeSize":-1,"TypeModifier":-1,"Format":0}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260212100000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260212110000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260212120000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260212130000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260212140000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260213100000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260213100001"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260213110000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260216153000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260217000001"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260217000002"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260217000003"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260217130000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260218120000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260218121000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260219000100"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260219000101"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260219000200"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260219000300"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260219000400"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260220000100"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260220000200"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260220000300"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260220000400"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260220000500"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260220000600"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260220000700"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260220000800"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260220000900"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260220001000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260221000100"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260221000200"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260221000300"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260221000400"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260221000500"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260222000000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260222010000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260222020000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260223000001"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260223120000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260223130000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260223153000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260223170000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260223173000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260223200000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260223210000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260223210001"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260223213000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260223223000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260223231500"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"DataRow","Values":[{"text":"20260224120000"}]}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"SELECT 51"}
2026/02/24 17:24:05 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Do you want to push these migrations to the remote database?
 ΓÇó 20260224120000_venues_admin_granular_th.sql
 ΓÇó 20260224121500_fix_map_pins_geography_index.sql
 ΓÇó 20260224135000_ultrathink_schema_optimization_part1.sql
 ΓÇó 20260224160000_map_pins_dual_branch_and_backfill.sql
 ΓÇó 20260224161000_owner_dashboard_indexes.sql

 [Y/n] y
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"SET lock_timeout = '4s'","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"CREATE SCHEMA IF NOT EXISTS supabase_migrations","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"CREATE TABLE IF NOT EXISTS supabase_migrations.schema_migrations (version text NOT NULL PRIMARY KEY)","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE supabase_migrations.schema_migrations ADD COLUMN IF NOT EXISTS statements text[]","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE supabase_migrations.schema_migrations ADD COLUMN IF NOT EXISTS name text","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Sync"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"SET"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P06","Message":"schema \"supabase_migrations\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"schemacmds.c","Line":132,"Routine":"CreateSchemaCommand","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE SCHEMA"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P07","Message":"relation \"schema_migrations\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"parse_utilcmd.c","Line":207,"Routine":"transformCreateStmt","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"statements\" of relation \"schema_migrations\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"name\" of relation \"schema_migrations\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2026/02/24 17:24:05 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20260224120000_venues_admin_granular_th.sql...
2026/02/24 17:24:05 PG Send: {"Type":"Query","String":"RESET ALL"}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"RESET"}
2026/02/24 17:24:05 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"-- =============================================================================\n-- Venues Admin Granularity (Thailand)\n-- Adds detailed admin columns + bulk RPC for backfill from coordinates.\n-- =============================================================================\n\nSET statement_timeout = '15min'","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE public.venues\n  ADD COLUMN IF NOT EXISTS district TEXT,\n  ADD COLUMN IF NOT EXISTS subdistrict TEXT,\n  ADD COLUMN IF NOT EXISTS province_th TEXT,\n  ADD COLUMN IF NOT EXISTS province_en TEXT,\n  ADD COLUMN IF NOT EXISTS district_th TEXT,\n  ADD COLUMN IF NOT EXISTS district_en TEXT,\n  ADD COLUMN IF NOT EXISTS subdistrict_th TEXT,\n  ADD COLUMN IF NOT EXISTS subdistrict_en TEXT,\n  ADD COLUMN IF NOT EXISTS province_code TEXT,\n  ADD COLUMN IF NOT EXISTS district_code TEXT,\n  ADD COLUMN IF NOT EXISTS subdistrict_code TEXT,\n  ADD COLUMN IF NOT EXISTS admin_source TEXT,\n  ADD COLUMN IF NOT EXISTS admin_confidence SMALLINT,\n  ADD COLUMN IF NOT EXISTS admin_resolved_at TIMESTAMPTZ","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE public.venues\n  ALTER COLUMN admin_source SET DEFAULT 'unknown',\n  ALTER COLUMN admin_confidence SET DEFAULT 0","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"DO $$\nBEGIN\n  IF NOT EXISTS (\n    SELECT 1 FROM pg_constraint\n    WHERE conname = 'venues_admin_confidence_range_ck'\n      AND conrelid = 'public.venues'::regclass\n  ) THEN\n    ALTER TABLE public.venues\n      ADD CONSTRAINT venues_admin_confidence_range_ck\n      CHECK (admin_confidence BETWEEN 0 AND 100) NOT VALID;\n  END IF;\nEND $$","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"CREATE INDEX IF NOT EXISTS venues_province_code_idx\n  ON public.venues (province_code) WHERE province_code IS NOT NULL","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"CREATE INDEX IF NOT EXISTS venues_district_code_idx\n  ON public.venues (district_code) WHERE district_code IS NOT NULL","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"CREATE INDEX IF NOT EXISTS venues_subdistrict_code_idx\n  ON public.venues (subdistrict_code) WHERE subdistrict_code IS NOT NULL","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"CREATE INDEX IF NOT EXISTS venues_admin_resolved_at_idx\n  ON public.venues (admin_resolved_at DESC)","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"CREATE OR REPLACE FUNCTION public.bulk_update_venue_admin(p_rows JSONB)\nRETURNS INTEGER\nLANGUAGE plpgsql\nSECURITY DEFINER\nSET search_path = public\nAS $$\nDECLARE\n  v_count INTEGER := 0;\nBEGIN\n  IF p_rows IS NULL OR jsonb_typeof(p_rows) \u003c\u003e 'array' OR jsonb_array_length(p_rows) = 0 THEN\n    RETURN 0;\n  END IF;\n\n  UPDATE public.venues v\n  SET\n    province_th = COALESCE(NULLIF(BTRIM(r.province_th), ''), v.province_th),\n    province_en = COALESCE(NULLIF(BTRIM(r.province_en), ''), v.province_en),\n    district_th = COALESCE(NULLIF(BTRIM(r.district_th), ''), v.district_th),\n    district_en = COALESCE(NULLIF(BTRIM(r.district_en), ''), v.district_en),\n    subdistrict_th = COALESCE(NULLIF(BTRIM(r.subdistrict_th), ''), v.subdistrict_th),\n    subdistrict_en = COALESCE(NULLIF(BTRIM(r.subdistrict_en), ''), v.subdistrict_en),\n    province_code = COALESCE(NULLIF(BTRIM(r.province_code), ''), v.province_code),\n    district_code = COALESCE(NULLIF(BTRIM(r.district_code), ''), v.district_code),\n    subdistrict_code = COALESCE(NULLIF(BTRIM(r.subdistrict_code), ''), v.subdistrict_code),\n    province = CASE\n      WHEN COALESCE(v.province, '') IN ('', 'Thailand', 'Unknown', 'UNKNOWN')\n        THEN COALESCE(NULLIF(BTRIM(r.province_en), ''), NULLIF(BTRIM(r.province_th), ''), v.province)\n      ELSE COALESCE(NULLIF(BTRIM(r.province_en), ''), v.province)\n    END,\n    district = COALESCE(NULLIF(BTRIM(r.district_en), ''), NULLIF(BTRIM(r.district_th), ''), v.district),\n    subdistrict = COALESCE(NULLIF(BTRIM(r.subdistrict_en), ''), NULLIF(BTRIM(r.subdistrict_th), ''), v.subdistrict),\n    admin_source = COALESCE(NULLIF(BTRIM(r.admin_source), ''), 'thai-geolocate', v.admin_source),\n    admin_confidence = GREATEST(0, LEAST(100, COALESCE(r.admin_confidence, v.admin_confidence, 0))),\n    admin_resolved_at = COALESCE(r.admin_resolved_at, NOW())\n  FROM jsonb_to_recordset(p_rows) AS r(\n    id UUID,\n    province_th TEXT, province_en TEXT,\n    district_th TEXT, district_en TEXT,\n    subdistrict_th TEXT, subdistrict_en TEXT,\n    province_code TEXT, district_code TEXT, subdistrict_code TEXT,\n    admin_source TEXT, admin_confidence SMALLINT, admin_resolved_at TIMESTAMPTZ\n  )\n  WHERE v.id = r.id;\n\n  GET DIAGNOSTICS v_count = ROW_COUNT;\n  RETURN v_count;\nEND;\n$$","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"REVOKE ALL ON FUNCTION public.bulk_update_venue_admin(JSONB) FROM PUBLIC","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"GRANT EXECUTE ON FUNCTION public.bulk_update_venue_admin(JSONB) TO service_role","ParameterOIDs":null}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2026/02/24 17:24:05 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20260224120000"},{"text":"venues_admin_granular_th"},{"binary":"0000000100000000000000190000000b00000001000001322d2d203d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0a2d2d2056656e7565732041646d696e204772616e756c61726974792028546861696c616e64290a2d2d20416464732064657461696c65642061646d696e20636f6c756d6e73202b2062756c6b2052504320666f72206261636b66696c6c2066726f6d20636f6f7264696e617465732e0a2d2d203d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0a0a5345542073746174656d656e745f74696d656f7574203d202731356d696e27000002b1414c544552205441424c45207075626c69632e76656e7565730a202041444420434f4c554d4e204946204e4f542045584953545320646973747269637420544558542c0a202041444420434f4c554d4e204946204e4f542045584953545320737562646973747269637420544558542c0a202041444420434f4c554d4e204946204e4f54204558495354532070726f76696e63655f746820544558542c0a202041444420434f4c554d4e204946204e4f54204558495354532070726f76696e63655f656e20544558542c0a202041444420434f4c554d4e204946204e4f54204558495354532064697374726963745f746820544558542c0a202041444420434f4c554d4e204946204e4f54204558495354532064697374726963745f656e20544558542c0a202041444420434f4c554d4e204946204e4f54204558495354532073756264697374726963745f746820544558542c0a202041444420434f4c554d4e204946204e4f54204558495354532073756264697374726963745f656e20544558542c0a202041444420434f4c554d4e204946204e4f54204558495354532070726f76696e63655f636f646520544558542c0a202041444420434f4c554d4e204946204e4f54204558495354532064697374726963745f636f646520544558542c0a202041444420434f4c554d4e204946204e4f54204558495354532073756264697374726963745f636f646520544558542c0a202041444420434f4c554d4e204946204e4f54204558495354532061646d696e5f736f7572636520544558542c0a202041444420434f4c554d4e204946204e4f54204558495354532061646d696e5f636f6e666964656e636520534d414c4c494e542c0a202041444420434f4c554d4e204946204e4f54204558495354532061646d696e5f7265736f6c7665645f61742054494d455354414d50545a0000007a414c544552205441424c45207075626c69632e76656e7565730a2020414c54455220434f4c554d4e2061646d696e5f736f75726365205345542044454641554c542027756e6b6e6f776e272c0a2020414c54455220434f4c554d4e2061646d696e5f636f6e666964656e6365205345542044454641554c5420300000014d444f2024240a424547494e0a20204946204e4f542045584953545320280a2020202053454c45435420312046524f4d2070675f636f6e73747261696e740a20202020574845524520636f6e6e616d65203d202776656e7565735f61646d696e5f636f6e666964656e63655f72616e67655f636b270a202020202020414e4420636f6e72656c6964203d20277075626c69632e76656e756573273a3a726567636c6173730a202029205448454e0a20202020414c544552205441424c45207075626c69632e76656e7565730a20202020202041444420434f4e53545241494e542076656e7565735f61646d696e5f636f6e666964656e63655f72616e67655f636b0a202020202020434845434b202861646d696e5f636f6e666964656e6365204245545745454e203020414e442031303029204e4f542056414c49443b0a2020454e442049463b0a454e442024240000007643524541544520494e444558204946204e4f54204558495354532076656e7565735f70726f76696e63655f636f64655f6964780a20204f4e207075626c69632e76656e756573202870726f76696e63655f636f6465292057484552452070726f76696e63655f636f6465204953204e4f54204e554c4c0000007643524541544520494e444558204946204e4f54204558495354532076656e7565735f64697374726963745f636f64655f6964780a20204f4e207075626c69632e76656e756573202864697374726963745f636f6465292057484552452064697374726963745f636f6465204953204e4f54204e554c4c0000007f43524541544520494e444558204946204e4f54204558495354532076656e7565735f73756264697374726963745f636f64655f6964780a20204f4e207075626c69632e76656e756573202873756264697374726963745f636f6465292057484552452073756264697374726963745f636f6465204953204e4f54204e554c4c0000006343524541544520494e444558204946204e4f54204558495354532076656e7565735f61646d696e5f7265736f6c7665645f61745f6964780a20204f4e207075626c69632e76656e756573202861646d696e5f7265736f6c7665645f6174204445534329000008cc435245415445204f52205245504c4143452046554e4354494f4e207075626c69632e62756c6b5f7570646174655f76656e75655f61646d696e28705f726f7773204a534f4e42290a52455455524e5320494e54454745520a4c414e475541474520706c706773716c0a534543555249545920444546494e45520a534554207365617263685f70617468203d207075626c69630a41532024240a4445434c4152450a2020765f636f756e7420494e5445474552203a3d20303b0a424547494e0a2020494620705f726f7773204953204e554c4c204f52206a736f6e625f747970656f6628705f726f777329203c3e2027617272617927204f52206a736f6e625f61727261795f6c656e67746828705f726f777329203d2030205448454e0a2020202052455455524e20303b0a2020454e442049463b0a0a2020555044415445207075626c69632e76656e75657320760a20205345540a2020202070726f76696e63655f7468203d20434f414c45534345284e554c4c494628425452494d28722e70726f76696e63655f7468292c202727292c20762e70726f76696e63655f7468292c0a2020202070726f76696e63655f656e203d20434f414c45534345284e554c4c494628425452494d28722e70726f76696e63655f656e292c202727292c20762e70726f76696e63655f656e292c0a2020202064697374726963745f7468203d20434f414c45534345284e554c4c494628425452494d28722e64697374726963745f7468292c202727292c20762e64697374726963745f7468292c0a2020202064697374726963745f656e203d20434f414c45534345284e554c4c494628425452494d28722e64697374726963745f656e292c202727292c20762e64697374726963745f656e292c0a2020202073756264697374726963745f7468203d20434f414c45534345284e554c4c494628425452494d28722e73756264697374726963745f7468292c202727292c20762e73756264697374726963745f7468292c0a2020202073756264697374726963745f656e203d20434f414c45534345284e554c4c494628425452494d28722e73756264697374726963745f656e292c202727292c20762e73756264697374726963745f656e292c0a2020202070726f76696e63655f636f6465203d20434f414c45534345284e554c4c494628425452494d28722e70726f76696e63655f636f6465292c202727292c20762e70726f76696e63655f636f6465292c0a2020202064697374726963745f636f6465203d20434f414c45534345284e554c4c494628425452494d28722e64697374726963745f636f6465292c202727292c20762e64697374726963745f636f6465292c0a2020202073756264697374726963745f636f6465203d20434f414c45534345284e554c4c494628425452494d28722e73756264697374726963745f636f6465292c202727292c20762e73756264697374726963745f636f6465292c0a2020202070726f76696e6365203d20434153450a2020202020205748454e20434f414c4553434528762e70726f76696e63652c2027272920494e202827272c2027546861696c616e64272c2027556e6b6e6f776e272c2027554e4b4e4f574e27290a20202020202020205448454e20434f414c45534345284e554c4c494628425452494d28722e70726f76696e63655f656e292c202727292c204e554c4c494628425452494d28722e70726f76696e63655f7468292c202727292c20762e70726f76696e6365290a202020202020454c534520434f414c45534345284e554c4c494628425452494d28722e70726f76696e63655f656e292c202727292c20762e70726f76696e6365290a20202020454e442c0a202020206469737472696374203d20434f414c45534345284e554c4c494628425452494d28722e64697374726963745f656e292c202727292c204e554c4c494628425452494d28722e64697374726963745f7468292c202727292c20762e6469737472696374292c0a202020207375626469737472696374203d20434f414c45534345284e554c4c494628425452494d28722e73756264697374726963745f656e292c202727292c204e554c4c494628425452494d28722e73756264697374726963745f7468292c202727292c20762e7375626469737472696374292c0a2020202061646d696e5f736f75726365203d20434f414c45534345284e554c4c494628425452494d28722e61646d696e5f736f75726365292c202727292c2027746861692d67656f6c6f63617465272c20762e61646d696e5f736f75726365292c0a2020202061646d696e5f636f6e666964656e6365203d20475245415445535428302c204c45415354283130302c20434f414c4553434528722e61646d696e5f636f6e666964656e63652c20762e61646d696e5f636f6e666964656e63652c20302929292c0a2020202061646d696e5f7265736f6c7665645f6174203d20434f414c4553434528722e61646d696e5f7265736f6c7665645f61742c204e4f572829290a202046524f4d206a736f6e625f746f5f7265636f726473657428705f726f7773292041532072280a20202020696420555549442c0a2020202070726f76696e63655f746820544558542c2070726f76696e63655f656e20544558542c0a2020202064697374726963745f746820544558542c2064697374726963745f656e20544558542c0a2020202073756264697374726963745f746820544558542c2073756264697374726963745f656e20544558542c0a2020202070726f76696e63655f636f646520544558542c2064697374726963745f636f646520544558542c2073756264697374726963745f636f646520544558542c0a2020202061646d696e5f736f7572636520544558542c2061646d696e5f636f6e666964656e636520534d414c4c494e542c2061646d696e5f7265736f6c7665645f61742054494d455354414d50545a0a2020290a2020574845524520762e6964203d20722e69643b0a0a202047455420444941474e4f535449435320765f636f756e74203d20524f575f434f554e543b0a202052455455524e20765f636f756e743b0a454e443b0a2424000000485245564f4b4520414c4c204f4e2046554e4354494f4e207075626c69632e62756c6b5f7570646174655f76656e75655f61646d696e284a534f4e42292046524f4d205055424c49430000004f4752414e542045584543555445204f4e2046554e4354494f4e207075626c69632e62756c6b5f7570646174655f76656e75655f61646d696e284a534f4e422920544f20736572766963655f726f6c65"}],"ResultFormatCodes":[]}
2026/02/24 17:24:05 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/02/24 17:24:05 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/02/24 17:24:05 PG Send: {"Type":"Sync"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"SET"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"district\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"subdistrict\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
NOTICE (42701): column "district" of relation "venues" already exists, skipping
NOTICE (42701): column "subdistrict" of relation "venues" already exists, skipping
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"province_th\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"province_en\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"district_th\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"district_en\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"subdistrict_th\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"subdistrict_en\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"province_code\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"district_code\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
NOTICE (42701): column "province_th" of relation "venues" already exists, skipping
NOTICE (42701): column "province_en" of relation "venues" already exists, skipping
NOTICE (42701): column "district_th" of relation "venues" already exists, skipping
NOTICE (42701): column "district_en" of relation "venues" already exists, skipping
NOTICE (42701): column "subdistrict_th" of relation "venues" already exists, skipping
NOTICE (42701): column "subdistrict_en" of relation "venues" already exists, skipping
NOTICE (42701): column "province_code" of relation "venues" already exists, skipping
NOTICE (42701): column "district_code" of relation "venues" already exists, skipping
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"subdistrict_code\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"admin_source\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"admin_confidence\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"admin_resolved_at\" of relation \"venues\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
NOTICE (42701): column "subdistrict_code" of relation "venues" already exists, skipping
NOTICE (42701): column "admin_source" of relation "venues" already exists, skipping
NOTICE (42701): column "admin_confidence" of relation "venues" already exists, skipping
NOTICE (42701): column "admin_resolved_at" of relation "venues" already exists, skipping
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"DO"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P07","Message":"relation \"venues_province_code_idx\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"index.c","Line":889,"Routine":"index_create","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
NOTICE (42P07): relation "venues_province_code_idx" already exists, skipping
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P07","Message":"relation \"venues_district_code_idx\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"index.c","Line":889,"Routine":"index_create","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P07","Message":"relation \"venues_subdistrict_code_idx\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"index.c","Line":889,"Routine":"index_create","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
NOTICE (42P07): relation "venues_district_code_idx" already exists, skipping
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
NOTICE (42P07): relation "venues_subdistrict_code_idx" already exists, skipping
2026/02/24 17:24:05 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P07","Message":"relation \"venues_admin_resolved_at_idx\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"index.c","Line":889,"Routine":"index_create","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"REVOKE"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Type":"CommandComplete","CommandTag":"GRANT"}
2026/02/24 17:24:05 PG Recv: {"Type":"ParseComplete"}
2026/02/24 17:24:05 PG Recv: {"Type":"BindComplete"}
NOTICE (42P07): relation "venues_admin_resolved_at_idx" already exists, skipping
2026/02/24 17:24:05 PG Recv: {"Type":"NoData"}
2026/02/24 17:24:05 PG Recv: {"Type":"ErrorResponse","Severity":"ERROR","SeverityUnlocalized":"ERROR","Code":"23505","Message":"duplicate key value violates unique constraint \"schema_migrations_pkey\"","Detail":"Key (version)=(20260224120000) already exists.","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"supabase_migrations","TableName":"schema_migrations","ColumnName":"","DataTypeName":"","ConstraintName":"schema_migrations_pkey","File":"nbtinsert.c","Line":666,"Routine":"_bt_check_unique","UnknownFields":null}
2026/02/24 17:24:05 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2026/02/24 17:24:05 PG Send: {"Type":"Terminate"}
ERROR: duplicate key value violates unique constraint "schema_migrations_pkey" (SQLSTATE 23505)
Key (version)=(20260224120000) already exists.                                                 
At statement: 11                                                                               
INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)
Waiting for the debugger to disconnect...
